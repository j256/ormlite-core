<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on February 19, 2018 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>ORMLite Documentation: 3. Custom Statement Builder</title>

<meta name="description" content="ORMLite Documentation: 3. Custom Statement Builder">
<meta name="keywords" content="ORMLite Documentation: 3. Custom Statement Builder">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Statement-Builder"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="ormlite_2.html#DAO-Enabled-Objects" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#QueryBuilder-Basics" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ormlite_2.html#Using" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="ormlite.html#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ormlite_4.html#Use-With-Android" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ormlite.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_10.html#Index-of-Concepts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Custom-Statement-Builder"></a>
<h1 class="chapter">3. Custom Statement Builder</h1>

<a name="index-statement-builder"></a>
<a name="index-custom-statement-builder"></a>
<p>The DAOs have methods to query for an object that matches an id field (<code>queryForId</code>), query for all objects
(<code>queryForAll</code>), iterating through all of the objects in a table (<code>iterator</code>), and some other simple martching
methods.  However, for more custom queries, there is the <code>queryBuilder()</code> method which returns a <code>QueryBuilder</code>
object for the DAO with which you can construct custom queries to return a sub-set of your tables.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#QueryBuilder-Basics">3.1 Query Builder Basics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         How to start using the query builder.
</td></tr>
<tr><td align="left" valign="top"><a href="#Building-Queries">3.2 Building Queries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            How to build simple and complex queries.
</td></tr>
<tr><td align="left" valign="top"><a href="#Building-Statements">3.3 Building Statements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         How to build update and delete statements.
</td></tr>
<tr><td align="left" valign="top"><a href="#QueryBuilder-Capabilities">3.4 QueryBuilder Capabilities</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   Description of the various QueryBuilder methods.
</td></tr>
<tr><td align="left" valign="top"><a href="#Where-Capabilities">3.5 Where Capabilities</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Description of the various WHERE methods.
</td></tr>
<tr><td align="left" valign="top"><a href="#Select-Arguments">3.6 Using Select Arguments</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Using arguments to queries.
</td></tr>
<tr><td align="left" valign="top"><a href="#Column-Arguments">3.7 Using Column Arguments</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Using arguments to queries to compare columns.
</td></tr>
<tr><td align="left" valign="top"><a href="#Join-Queries">3.8 Building Join Queries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Explaining how to use JOIN queries.
</td></tr>
</table>

<hr size="6">
<a name="QueryBuilder-Basics"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Statement-Builder" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Building-Queries" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ormlite_4.html#Use-With-Android" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ormlite.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_10.html#Index-of-Concepts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Query-Builder-Basics"></a>
<h2 class="section">3.1 Query Builder Basics</h2>

<a name="index-custom-query-builder"></a>
<a name="index-query-builder-basics"></a>
<a name="index-how-to-use-the-query-builder"></a>
<p>Here&rsquo;s how you use the query builder to construct custom queries.  First, it is a good pattern to
set the column names of the fields with Java constants so you can use them in queries.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">@DatabaseTable(tableName = &quot;accounts&quot;)
public class Account {
    public static final String PASSWORD_FIELD_NAME = &quot;password&quot;; 
    
    &hellip;
    @DatabaseField(canBeNull = false, columnName = PASSWORD_FIELD_NAME)
    private String password;
    &hellip;
</pre></td></tr></table>

<p>This allows us to construct queries using the password field name without having the renaming of a field in the future break
our queries.  This should be done <em>even</em> if the name of the field and the column name are the same.
</p>
<a name="index-where"></a>
<table><tr><td>&nbsp;</td><td><pre class="example">// get our query builder from the DAO
QueryBuilder&lt;Account, String&gt; queryBuilder =
  accountDao.queryBuilder();
// the 'password' field must be equal to &quot;qwerty&quot;
queryBuilder.where().eq(Account.PASSWORD_FIELD_NAME, &quot;qwerty&quot;);
// prepare our sql statement
PreparedQuery&lt;Account&gt; preparedQuery = queryBuilder.prepare();
// query for all accounts that have &quot;qwerty&quot; as a password
List&lt;Account&gt; accountList = accountDao.query(preparedQuery);
</pre></td></tr></table>

<a name="index-prepared-statement"></a>
<p>You get a <code>QueryBuilder</code> object from the <code>Dao.queryBuilder()</code> method, call methods on it to build your custom
query, call <code>queryBuilder.prepare()</code> which returns a <code>PreparedQuery</code> object, and then pass the <code>PreparedQuery</code>
to the DAO&rsquo;s <code>query</code> or <code>iterator</code> methods.
</p>
<p>As a short cut, you can also call the <code>prepare()</code> method on the <code>Where</code> object to do something like the following: 
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">// query for all accounts that have that password
List&lt;Account&gt; accountList =
   accountDao.query(
      accountDao.queryBuilder().where()
         .eq(Account.PASSWORD_FIELD_NAME, &quot;qwerty&quot;)
         .prepare());
</pre></td></tr></table>

<p>You can use another short cut to call <code>query()</code> or <code>iterator()</code> either on the <code>QueryBuilder</code> or <code>Where</code>
objects.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">// query for all accounts that have that password
List&lt;Account&gt; accountList =
      accountDao.queryBuilder().where()
         .eq(Account.PASSWORD_FIELD_NAME, &quot;qwerty&quot;)
         .query();
</pre></td></tr></table>

<hr size="6">
<a name="Building-Queries"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#QueryBuilder-Basics" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Building-Statements" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ormlite_4.html#Use-With-Android" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ormlite.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_10.html#Index-of-Concepts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Building-Queries-1"></a>
<h2 class="section">3.2 Building Queries</h2>

<a name="index-building-queries"></a>
<p>There are a couple of different ways that you can build queries.  The <code>QueryBuilder</code> has been written for ease of use
as well for power users.  Simple queries can be done linearly:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">QueryBuilder&lt;Account, String&gt; queryBuilder =
  accountDao.queryBuilder();
// get the WHERE object to build our query
Where&lt;Account, String&gt; where = queryBuilder.where();
// the name field must be equal to &quot;foo&quot;
where.eq(Account.NAME_FIELD_NAME, &quot;foo&quot;);
// and
where.and();
// the password field must be equal to &quot;_secret&quot;
where.eq(Account.PASSWORD_FIELD_NAME, &quot;_secret&quot;);
PreparedQuery&lt;Account&gt; preparedQuery = queryBuilder.prepare();
</pre></td></tr></table>

<p>The SQL query that will be generated from the above example will be approximately:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">SELECT * FROM account
  WHERE (name = 'foo' AND password = '_secret')
</pre></td></tr></table>

<a name="index-chain-query-methods"></a>
<p>If you&rsquo;d rather chain the methods onto one line (like StringBuilder), this can also be written as:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">queryBuilder.where()
  .eq(Account.NAME_FIELD_NAME, &quot;foo&quot;)
  .and()
  .eq(Account.PASSWORD_FIELD_NAME, &quot;_secret&quot;);
</pre></td></tr></table>

<p>If you&rsquo;d rather use parenthesis to group the comparisons properly then you can call:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">Where&lt;Account, String&gt; where = queryBuilder.where();
where.and(where.eq(Account.NAME_FIELD_NAME, &quot;foo&quot;),
          where.eq(Account.PASSWORD_FIELD_NAME, &quot;_secret&quot;));
</pre></td></tr></table>

<a name="index-complex-query"></a>
<p>All three of the above call formats produce the same SQL.  For complex queries that mix ANDs and ORs, the last
format may be necessary to get the grouping correct.  For example, here&rsquo;s a complex query:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">Where&lt;Account, String&gt; where = queryBuilder.where();
where.or(
  where.and(
    where.eq(Account.NAME_FIELD_NAME, &quot;foo&quot;),
    where.eq(Account.PASSWORD_FIELD_NAME, &quot;_secret&quot;)),
  where.and(
    where.eq(Account.NAME_FIELD_NAME, &quot;bar&quot;),
    where.eq(Account.PASSWORD_FIELD_NAME, &quot;qwerty&quot;)));
</pre></td></tr></table>

<p>This produces the following approximate SQL:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">SELECT * FROM account
  WHERE ((name = 'foo' AND password = '_secret')
         OR (name = 'bar' AND password = 'qwerty'))
</pre></td></tr></table>

<a name="index-RPN-queries"></a>
<a name="index-reverse-polish-notation"></a>
<p>If you want to do complex queries linearly, you can even use Reverse Polish Notation (of all things).  There is a
<code>Where.or(int)</code> and <code>Where.and(int)</code> methods which do the operation on the previous number of specified clauses.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">where.eq(Account.NAME_FIELD_NAME, &quot;foo&quot;);
where.eq(Account.PASSWORD_FIELD_NAME, &quot;_secret&quot;);
// this does an AND between the previous 2 clauses
// it also puts a clause back on the stack
where.and(2);
where.eq(Account.NAME_FIELD_NAME, &quot;bar&quot;),
where.eq(Account.PASSWORD_FIELD_NAME, &quot;qwerty&quot;)));
// this does an AND between the previous 2 clauses
// it also puts a clause back on the stack
where.and(2);
// this does an OR between the previous 2 AND clauses
where.or(2);
</pre></td></tr></table>

<a name="index-ORDER-BY_002c-SQL"></a>
<a name="index-GROUP-BY_002c-SQL"></a>
<p>The <code>QueryBuilder</code> also allows you to set what specific select columns you want returned, specify the &rsquo;ORDER BY&rsquo;
and &rsquo;GROUP BY&rsquo; fields, and various other SQL features (LIKE, IN, &gt;, &gt;=, &lt;, &lt;=, &lt;&gt;, IS NULL, DISTINCT, &hellip;).
See section <a href="#Where-Capabilities">Where Capabilities</a>. You can also see the javadocs on <code>QueryBuilder</code> and <code>Where</code> classes for more
information.  Here&rsquo;s a <a href="http://www.w3schools.com/Sql/">good SQL reference site</a>.
</p>
<hr size="6">
<a name="Building-Statements"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Building-Queries" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#QueryBuilder-Capabilities" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ormlite_4.html#Use-With-Android" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ormlite.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_10.html#Index-of-Concepts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Building-Statements-1"></a>
<h2 class="section">3.3 Building Statements</h2>

<a name="index-deleteBuilder"></a>
<a name="index-updateBuilder"></a>
<a name="index-custom-update-statements"></a>
<a name="index-custom-delete-statements"></a>
<p><a name="DeleteBuilder"></a>
<a name="UpdateBuilder"></a>
The DAO can also be used to construct custom <code>UPDATE</code> and <code>DELETE</code> statements.  Update statements
are used to change certain fields in rows from the table that match the <code>WHERE</code> pattern &ndash; or update <em>all</em>
rows if no <code>where()</code>. Delete statements are used to delete rows from the table that match the <code>WHERE</code>
pattern &ndash; or delete <em>all</em> rows if no <code>where()</code>.  
</p>
<p>For example, if you want to update the passwords for all of the Accounts in your table that are currently null to
the string &quot;none&quot;, then you might do something like the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">UpdateBuilder&lt;Account, String&gt; updateBuilder =
  accountDao.updateBuilder();
// update the password to be &quot;none&quot;
updateBuilder.updateColumnValue(&quot;password&quot;, &quot;none&quot;);
// only update the rows where password is null
updateBuilder.where().isNull(Account.PASSWORD_FIELD_NAME);
updateBuilder.update();
</pre></td></tr></table>

<p>With update, you can also specify the update value to be an expression:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">// update hasDog boolean to true if dogC &gt; 0
updateBuilder.updateColumnExpression(
  &quot;hasDog&quot;, &quot;dogC &gt; 0&quot;);
</pre></td></tr></table>

<p>To help you construct your expressions, you can use the <code>UpdateBuilder</code>&rsquo;s escape methods <code>escapeColumnName</code> and
<code>escapeValue</code> can take a string or a <code>StringBuilder</code>.  This will protect you if columns or values are reserved words. 
</p>
<p>If, instead, you wanted to delete the rows in the Accounts table whose password is currently null, then you might do
something like the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">DeleteBuilder&lt;Account, String&gt; deleteBuilder =
  accountDao.deleteBuilder();
// only delete the rows where password is null
deleteBuilder.where().isNull(Account.PASSWORD_FIELD_NAME);
deleteBuilder.delete();
</pre></td></tr></table>

<hr size="6">
<a name="QueryBuilder-Capabilities"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Building-Statements" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Where-Capabilities" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ormlite_4.html#Use-With-Android" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ormlite.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_10.html#Index-of-Concepts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="QueryBuilder-Capabilities-1"></a>
<h2 class="section">3.4 QueryBuilder Capabilities</h2>

<a name="index-QueryBuilder-methods"></a>
<p>The following are some details about the various method calls on the <code>QueryBuilder</code> object which build custom
select, delete, and update statements.  See the Javadocs for the <code>QueryBuilder</code> class for the most up-to-date
information about the available methods.  Most of these methods return the <code>QueryBuilder</code> object so they can
be chained.
</p>
<p>Here&rsquo;s a good <a href="http://www.w3schools.com/sql/sql_select.asp">tutorial of SQL commands</a>.
</p>
<dl compact="compact">
<dd>
<a name="index-distinct"></a>
</dd>
<dt> <code>distinct()</code></dt>
<dd>
<p>Add &quot;DISTINCT&quot; clause to the SQL query statement.
</p>
<p><em>NOTE:</em> Use of this means that the resulting objects may not have a valid ID column value so cannot be deleted
or updated.
</p>
<a name="index-group-by-columns"></a>
</dd>
<dt> <code>groupBy(String columnName)</code> </dt>
<dd>
<p>This adds a &quot;GROUP&quot; clause to the SQL query statement for the specified column name.  This can be called multiple
times to group by multiple columns.
</p>
<p><em>NOTE:</em> Use of this means that the resulting objects may not have a valid ID column value so cannot be deleted
or updated.
</p>
<a name="index-group-by-raw-SQL"></a>
</dd>
<dt> <code>groupByRaw(String sql)</code></dt>
<dd>
<p>Add a raw SQL &quot;GROUP BY&quot; clause to the SQL query statement. This allows you to group by things that are not just column
names.  The SQL argument should not include the &quot;GROUP BY&quot; string.
</p>
<a name="index-having-raw-SQL"></a>
</dd>
<dt> <code>having(String sql)</code></dt>
<dd>
<p>Add a raw SQL &quot;HAVING&quot; clause to the SQL query statement. This allows you to apply filters after the WHERE and other
matching has been completed.  This is usually done with aggregate functions.  The SQL argument should not include the
&quot;HAVING&quot; string.
</p>
<a name="index-join-query"></a>
<a name="index-inner-join-query"></a>
</dd>
<dt> <code>join(QueryBuilder joinedQueryBuilder)</code></dt>
<dd>
<p>Join with another query builder. This will add into the SQL something close to &quot;INNER JOIN other-table ...&quot;.
Either the object associated with the current query builder or the argument query builder <em>must</em> have a foreign field
of the other one. An exception will be thrown otherwise.  This can be called multiple times to join with more than one
table.
</p>
<a name="index-left-join-query"></a>
</dd>
<dt> <code>leftJoin(QueryBuilder joinedQueryBuilder)</code></dt>
<dd>
<p>Same as <code>join(QueryBuilder)</code> but it will use &quot;LEFT JOIN&quot; instead.  See:
<a href="http://www.w3schools.com/sql/sql_join_left.asp">LEFT JOIN SQL documentation</a>.
</p>
<p><em>NOTE:</em> <code>RIGHT</code> and <code>FULL JOIN</code> SQL commands are not supported because we are only returning objects from
the &quot;left&quot; table.
</p>
<a name="index-limit"></a>
</dd>
<dt> <code>limit(Integer maxRows)</code></dt>
<dd>
<p>Limit the output to maxRows maximum number of rows. Set to null for no limit (the default).
</p>
<a name="index-offset"></a>
</dd>
<dt> <code>offset(Integer startRow)</code></dt>
<dd>
<p>Start the output at this row number. Set to null for no offset (the default). If you are paging through a table,
you should consider using the <code>Dao.iterator()</code> method instead which handles paging with a database cursor.
Otherwise, if you are paging you probably want to specify a column to <code>orderBy</code>.
</p>
<p><em>NOTE:</em> This is not supported for all databases. Also, for some databases, the limit <em>must</em> also be
specified since the offset is an argument of the limit.
</p>
<a name="index-order-by-columns"></a>
</dd>
<dt> <code>orderBy(String columnName, boolean ascending)</code></dt>
<dd>
<p>Add &quot;ORDER BY&quot; clause to the SQL query statement to order the results by the specified column name.  Use the ascending
boolean to get a ascending or descending order.  This can be called multiple times to group by multiple columns.
</p>
<a name="index-order-by-raw-SQL"></a>
</dd>
<dt> <code>orderByRaw(String sql)</code></dt>
<dd>
<p>Add a raw SQL &quot;ORDER BY&quot; clause to the SQL query statement. This allows you to order by things that are not just columns
but can include calculations.  The SQL argument should not include the &quot;ORDER BY&quot; string.
</p>
<a name="index-prepare-the-query"></a>
</dd>
<dt> <code>prepare()</code></dt>
<dd>
<p>Build and return a prepared query that can be used by <code>Dao.query(PreparedQuery)</code> or
<code>Dao.iterator(PreparedQuery)</code> methods. If you change the where or make other calls you will need
to re-call this method to re-prepare the statement for execution.
</p>
<p><a name="selectColumns"></a>
<a name="index-select-columns"></a>
</p></dd>
<dt> <code>selectColumns(String... columns)</code></dt>
<dd>
<a name="index-lazy-load-fields"></a>
<a name="index-partial-fields-returned"></a>
<p>Add columns to be returned by the SELECT query and set on any resulting objects. If no columns are selected then
all columns are returned by default. For classes with id columns, the id column is added to the select list
automagically.  All fields not selected in the object with be their default values (null, 0, false, etc.).  
</p>
<p>This allows you to in effect have lazy loaded fields.  You can specify exactly which fields to be set on the
resulting objects. This is especially helpful if you have large fields in a table that you don&rsquo;t always
want to access.  To get all of the fields on the object later, you can either do another query or call
<code>refresh()</code> with the object.  This can be called multiple times to add more columns to select.
</p>
<p><em>WARNING:</em> If you specify any columns to return, then any foreign-collection fields will be returned as null
<em>unless</em> their <code>ForeignCollectionField.columnName</code> is also in the list.  See <a href="ormlite_2.html#ForeignCollectionField">ForeignCollectionField</a>.
</p>
</dd>
<dt> <code>selectColumns(Iterable&lt;String&gt; columns)</code></dt>
<dd>
<p>Same as the above but with an iterable (such as a collection) instead of a variable list of column names.  This can be
called multiple times to add more columns to select.
</p>
<a name="index-query-raw-columns"></a>
<a name="index-raw-columns_002c-query"></a>
<a name="index-aggregate-functions_002c-query"></a>
<a name="index-query-for-aggregate-functions"></a>
</dd>
<dt> <code>selectRaw(String... columns)</code></dt>
<dd>
<p>Add raw columns or aggregate functions (COUNT, MAX, ...) to the query. This will turn the query into something
only suitable for using as a raw query. This can be called multiple times to add more columns to select.
See section <a href="ormlite_2.html#Raw-Queries">Issuing Raw Queries</a>.
</p>
<a name="index-where-method"></a>
</dd>
<dt> <code>where()</code></dt>
<dd>
<p>Build and return the <code>Where</code> object with which you can customize your <code>WHERE</code> SQL statements.
See section <a href="#Where-Capabilities">Where Capabilities</a>.
</p>
</dd>
<dt> <code>query()</code></dt>
<dd>
<p>Convenience method to perform the query.  Same as <code>dao.query(queryBuilder.prepare())</code>.
</p>
</dd>
<dt> <code>queryForFirst()</code></dt>
<dd>
<p>Convenience method to perform the query and return the first result.  Same as <code>dao.queryForFirst(queryBuilder.prepare())</code>.
</p>
</dd>
<dt> <code>queryRawFirst()</code></dt>
<dd>
<p>Convenience method to perform a raw query on the generated state and then return the first result as a <code>String[]</code>.
Same as <code>Dao.queryRaw(String)</code> and <code>GenericRawResults.getFirstResult()</code>.
</p>
</dd>
<dt> <code>iterator()</code></dt>
<dd>
<p>Convenience method to generate the iterator for the query.  Same as <code>dao.iterator(queryBuilder.prepare())</code>.
</p>
</dd>
<dt> <code>reset()</code></dt>
<dd>
<p>Resets all of the settings in the <code>QueryBuilder</code> so it can be reused.
</p>
</dd>
</dl>

<hr size="6">
<a name="Where-Capabilities"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#QueryBuilder-Capabilities" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Select-Arguments" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ormlite_4.html#Use-With-Android" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ormlite.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_10.html#Index-of-Concepts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Where-Capabilities-1"></a>
<h2 class="section">3.5 Where Capabilities</h2>

<a name="index-where-methods"></a>
<p>The following are some details about the various method calls for adding <code>WHERE</code> SQL statements to your custom
select, delete, and update statements.  See the Javadocs for the <code>Where</code> class for the most up-to-date information
about the available methods.  All of the methods return the <code>Where</code> object so you can chain them together.
</p>
<p>Here&rsquo;s a good <a href="http://www.w3schools.com/sql/sql_where.asp">tutorial of SQL commands</a>.
</p>
<dl compact="compact">
<dd>
<a name="index-AND_002c-SQL"></a>
</dd>
<dt> <code>and()</code></dt>
<dd>
<p>Binary <code>AND</code> operation which takes the previous clause and the next clause and AND&rsquo;s them together.  This is when
you are using inline query calls.
</p>
<a name="index-AND_002c-many-arguments"></a>
</dd>
<dt> <code>and(Where&lt;T, ID&gt; first, Where&lt;T, ID&gt; second, Where&lt;T, ID&gt;... others)</code></dt>
<dd>
<p>AND operation which takes 2 or more arguments and AND&rsquo;s them together.  This is when you are <em>not</em> using inline
query calls but instead want to use standard arguments.
</p>
<p><em>NOTE:</em> There is no guarantee of the order of the clauses that are generated in the final query.
</p>
<p><em>NOTE:</em> There is an annoying code warning that I get with the usage of this method with more than 2 arguments that can
be ignored. 
</p>
</dd>
<dt> <code>and(int numClauses)</code></dt>
<dd>
<p>This method needs to be used carefully. This will absorb a number of clauses that were registered previously with
calls to <code>Where.eq()</code> or other methods and will string them together with AND&rsquo;s. There is no way to verify the number of
previous clauses so the programmer has to count precisely.
</p>
<p><em>NOTE:</em> There is no guarantee of the order of the clauses that are generated in the final query.
</p>
<a name="index-BETWEEN_002c-SQL"></a>
</dd>
<dt> <code>between(String columnName, Object low, Object high)</code></dt>
<dd>
<p>Add a BETWEEN clause which makes sure the column is between the low and high parameters.
</p>
<a name="index-_003d_002c-SQL"></a>
<a name="index-equals_002c-SQL"></a>
</dd>
<dt> <code>eq(String columnName, Object value)</code></dt>
<dd>
<p>Add a &rsquo;=&rsquo; clause which makes sure the column is equal to the value.
</p>
<a name="index-EXISTS_002c-SQL"></a>
</dd>
<dt> <code>exists(QueryBuilder&lt;?, ?&gt; subQueryBuilder)</code></dt>
<dd>
<p>Add a EXISTS clause with a sub-query inside of parenthesis.  This will return returns as long as the inner query returns
results.
</p>
<p><em>NOTE:</em> The sub-query will be prepared at the same time that the outside query is.
</p>
<a name="index-_003e_003d_002c-SQL"></a>
<a name="index-ge_002c-SQL"></a>
<a name="index-greater-than-or-equal_002c-SQL"></a>
</dd>
<dt> <code>ge(String columnName, Object value)</code></dt>
<dd>
<p>Add a &rsquo;&gt;=&rsquo; clause which makes sure the column is greater-than or equals-to the value.
</p>
<a name="index-_003e_002c-SQL"></a>
<a name="index-gt_002c-SQL"></a>
<a name="index-greater-than_002c-SQL"></a>
</dd>
<dt> <code>gt(String columnName, Object value)</code></dt>
<dd>
<p>Add a &rsquo;&gt;&rsquo; clause which makes sure the column is greater-than the value.
</p>
</dd>
<dt> <code>idEq(ID id)</code></dt>
<dd>
<p>Add a clause where the ID is equals to the argument.
</p>
</dd>
<dt> <code>idEq(Dao&lt;OD, ?&gt; dataDao, OD data)</code></dt>
<dd>
<p>Add a clause where the ID is extracted from an existing object.
</p>
<a name="index-IN_002c-SQL"></a>
</dd>
<dt> <code>in(String columnName, Iterable&lt;?&gt; objects)</code></dt>
<dd>
<p>Add a IN clause which makes sure the column is equal-to one of the objects from the <code>Iterable</code> passed in.  Most likely the
<code>Iterable</code> should probably be on of the <code>Collection</code> classes such as a <code>List</code> or <code>Set</code>.
</p>
<a name="index-IN_002c-SQL-1"></a>
</dd>
<dt> <code>in(String columnName, Object... objects)</code></dt>
<dd>
<p>Add a IN clause which makes sure the column is equal-to one of the objects passed in.
</p>
<a name="index-IN-sub_002dquery_002c-SQL"></a>
<a name="index-inner-queries"></a>
<a name="index-sub_002dqueries"></a>
</dd>
<dt> <code>in(String columnName, QueryBuilder&lt;?, ?&gt; subQueryBuilder)</code></dt>
<dd>
<p>Add a IN clause which makes sure the column is in one of the columns returned from a sub-query inside of parenthesis.
The <code>QueryBuilder</code> must return 1 and only one column which can be set with the <code>QueryBuilder.selectColumns(String...)</code>
method calls. That 1 argument must match the SQL type of the column-name passed to this method.  See also <a href="#Join-Queries">Building Join Queries</a>.
</p>
<p><em>NOTE:</em> The sub-query will be prepared at the same time that the outside query is.
</p>
<a name="index-IS-NULL_002c-SQL"></a>
<a name="index-null-comparison_002c-SQL"></a>
</dd>
<dt> <code>isNull(String columnName)</code></dt>
<dd>
<p>Add a &rsquo;IS NULL&rsquo; clause which makes sure the column&rsquo;s value is null. &rsquo;=&rsquo; NULL does not work.
</p>
<a name="index-IS-NOT-NULL_002c-SQL"></a>
<a name="index-null-comparison_002c-SQL-1"></a>
</dd>
<dt> <code>isNotNull(String columnName)</code></dt>
<dd>
<p>Add a &rsquo;IS NOT NULL&rsquo; clause so the column must not be null. &rsquo;&lt;&gt;&rsquo; NULL does not work.
</p>
<a name="index-_003c_003d_002c-SQL"></a>
<a name="index-less-than-or-equals_002c-SQL"></a>
<a name="index-le"></a>
</dd>
<dt> <code>le(String columnName, Object value)</code></dt>
<dd>
<p>Add a &rsquo;&lt;=&rsquo; clause which makes sure the column is less-than or equals-to the value.
</p>
<a name="index-_003c_002c-SQL"></a>
<a name="index-less-than_002c-SQL"></a>
<a name="index-lt"></a>
</dd>
<dt> <code>lt(String columnName, Object value)</code></dt>
<dd>
<p>Add a &rsquo;&lt;&rsquo; clause which makes sure the column is less-than the value.
</p>
<a name="index-LIKE_002c-SQL"></a>
</dd>
<dt> <code>like(String columnName, Object value)</code></dt>
<dd>
<p>Add a LIKE clause which makes sure the column match the value using &rsquo;%&rsquo; patterns.
</p>
<a name="index-_003c_003e_002c-SQL"></a>
<a name="index-_0021_003d_002c-SQL"></a>
<a name="index-not-equal-to_002c-SQL"></a>
<a name="index-ne"></a>
</dd>
<dt> <code>ne(String columnName, Object value)</code></dt>
<dd>
<p>Add a &rsquo;&lt;&gt;&rsquo; clause which makes sure the column is not-equal-to the value.
</p>
<a name="index-NOT_002c-SQL"></a>
</dd>
<dt> <code>not()</code></dt>
<dd>
<p>Used to NOT the next clause specified when using inline query calls.
</p>
</dd>
<dt> <code>not(Where&lt;T, ID&gt; comparison)</code></dt>
<dd>
<p>Used to NOT the argument clause specified.  This is when you are <em>not</em> using inline
query calls but instead want to use standard arguments.
</p>
<a name="index-NOT-IN_002c-SQL"></a>
</dd>
<dt> <code>notIn(String columnName, Iterable&lt;?&gt; objects)</code></dt>
<dd>
<p>Same as the IN clause but negated.  Results are returned that are not in the objects from the iterator.
</p>
<a name="index-NOT-IN_002c-SQL-1"></a>
</dd>
<dt> <code>notIn(String columnName, Object... objects)</code></dt>
<dd>
<p>Same as IN clause but negated.  Results are returned that are not in the variable array of objects.
</p>
<a name="index-NOT-IN-sub_002dquery_002c-SQL"></a>
</dd>
<dt> <code>notIn(String columnName, QueryBuilder&lt;?, ?&gt; subQueryBuilder)</code></dt>
<dd>
<p>Same as IN clause but negated.  Results are returned that are not in the results from the sub-query.
</p>
<a name="index-OR_002c-SQL"></a>
</dd>
<dt> <code>or()</code></dt>
<dd>
<p>Binary <code>OR</code> operation which takes the previous clause and the next clause and OR&rsquo;s them together.  This is when
you are using inline query calls.
</p>
</dd>
<dt> <code>or(Where&lt;T, ID&gt; first, Where&lt;T, ID&gt; second, Where&lt;T, ID&gt;... others)</code></dt>
<dd>
<p>OR operation which takes 2 or more arguments and OR&rsquo;s them together.  This is when you are <em>not</em> using inline
query calls but instead want to use standard arguments.
</p>
<p><em>NOTE:</em> There is no guarantee of the order of the clauses that are generated in the final query.
</p>
<p><em>NOTE:</em> There is an annoying code warning that I get with the usage of this method with more than 2 arguments that can
be ignored. 
</p>
</dd>
<dt> <code>or(int numClauses)</code></dt>
<dd>
<p>This method needs to be used carefully. This will absorb a number of clauses that were registered previously with
calls to <code>Where.eq()</code> or other methods and will string them together with OR&rsquo;s. There is no way to verify the number of
previous clauses so the programmer has to count precisely.
</p>
<a name="index-raw-where-statement"></a>
</dd>
<dt> <code>raw(String rawStatement)</code></dt>
<dd>
<p>Add a raw statement as part of the <code>WHERE</code> that can be anything that the database supports. Using the more
structured methods above is recommended but this gives more control over the query and allows you to utilize
database specific features.
</p>
</dd>
<dt> <code>prepare()</code></dt>
<dd>
<p>A short-cut for calling <code>prepare()</code> on the original <code>QueryBuilder.prepare()</code>.  This method returns a
<code>PreparedQuery</code> object.
</p>
<a name="index-reset-Where-object"></a>
</dd>
<dt> <code>reset()</code></dt>
<dd>
<p>Reset the where object so it can be reused in a new query but with the same <code>QueryBuilder</code>.
</p>
</dd>
<dt> <code>query()</code></dt>
<dd>
<p>Convenience method to perform the query.  Same as <code>queryBuilder.query()</code> and
<code>dao.query(queryBuilder.prepare())</code>.
</p>
</dd>
<dt> <code>queryRaw()</code></dt>
<dd>
<p>Convenience method to perform the query and return raw results.  Same as <code>queryBuilder.queryRaw()</code> and
<code>dao.queryRaw(...)</code>.
</p>
</dd>
<dt> <code>queryForFirst()</code></dt>
<dd>
<p>Convenience method to perform the query and return the first result.  Same as <code>queryBuilder.queryForFirst()</code> and
<code>dao.queryForFirst(queryBuilder.prepare())</code>.
</p>
</dd>
<dt> <code>queryRawFirst()</code></dt>
<dd>
<p>Convenience method to perform the query and return the first raw result.  Same as <code>queryBuilder.queryRawFirst()</code> and
<code>dao.queryRaw(...)</code>.
</p>
</dd>
<dt> <code>countOf()</code></dt>
<dd>
<p>Convenience method to perform the query and return the number of results.  Same as <code>queryBuilder.countOf()</code> and
<code>dao.countOf(queryBuilder.prepare())</code>.
</p>
</dd>
<dt> <code>iterator()</code></dt>
<dd>
<p>Convenience method to generate the iterator for the query.  Same as <code>queryBuilder.iterator()</code> and
<code>dao.iterator(queryBuilder.prepare())</code>.
</p>
</dd>
</dl>

<hr size="6">
<a name="Select-Arguments"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Where-Capabilities" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Column-Arguments" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ormlite_4.html#Use-With-Android" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ormlite.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_10.html#Index-of-Concepts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-Select-Arguments"></a>
<h2 class="section">3.6 Using Select Arguments</h2>

<a name="index-query-arguments"></a>
<a name="index-select-arguments"></a>
<a name="index-arguments-to-queries"></a>
<a name="index-sql-_003f"></a>
<p>Select Arguments are arguments that are used in WHERE operations can be specified directly as value arguments (as in the
above examples) or as a <code>SelectArg</code> object.  SelectArgs are used to set the value of an argument at a later time &ndash;
they generate a SQL &rsquo;<code>?</code>&rsquo;.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">QueryBuilder&lt;Account, String&gt; queryBuilder =
  accountDao.queryBuilder();
Where&lt;Account, String&gt; where = queryBuilder.where();
SelectArg selectArg = new SelectArg();
// define our query as 'name = ?'
where.eq(Account.NAME_FIELD_NAME, selectArg);
// prepare it so it is ready for later query or iterator calls
PreparedQuery&lt;Account&gt; preparedQuery = queryBuilder.prepare();

// later we can set the select argument and issue the query
selectArg.setValue(&quot;foo&quot;);
List&lt;Account&gt; accounts = accountDao.query(preparedQuery);
// then we can set the select argument to another
// value and re-run the query
selectArg.setValue(&quot;bar&quot;);
accounts = accountDao.query(preparedQuery);
</pre></td></tr></table>

<a name="index-quotes-in-queries"></a>
<a name="index-string-quoting-in-queries"></a>
<a name="index-escaping-arguments"></a>
<a name="index-SQL-injection-bugs"></a>
<p>It is a common problem for people to try to build queries or other statements with arguments that contain quote characters.
These quotes can clash with the auto-generated SQL and result in syntax errors.  In these cases a <code>SelectArg</code> is required.
In addition, if you are passing in arguments from user-input, you can use <code>SelectArg</code> to protect yourself from SQL
injection security problems.  Lastly, certain data types use an internal <code>SelectArg</code> object because the string value
of the object does not reliably match the database form of the object &ndash; <code>java.util.Date</code> is one example of such a type.
</p>
<p><em>NOTE:</em> <code>SelectArg</code> objects have protection against being used in more than one column name.  You must instantiate
a new object if you want to use a <code>SelectArg</code> with another column.
</p>
<hr size="6">
<a name="Column-Arguments"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Select-Arguments" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Join-Queries" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ormlite_4.html#Use-With-Android" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ormlite.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_10.html#Index-of-Concepts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-Column-Arguments"></a>
<h2 class="section">3.7 Using Column Arguments</h2>

<a name="index-ColumnArg"></a>
<a name="index-column-arguments"></a>
<a name="index-comparing-multiple-columns"></a>
<a name="index-table-columns-comparing"></a>
<p>Typically when you use the <code>QueryBuilder</code> you ae comparing a column and a value.  To compare one column against another
you can use a <code>ColumnArg</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">QueryBuilder&lt;Account, String&gt; queryBuilder =
  accountDao.queryBuilder();
// list all of the accounts that have the same
// name and password field 
queryBuilder.where().eq(Account.NAME_FIELD_NAME,
    new ColumnArg(Account.PASSWORD_FIELD_NAME));
List&lt;Account&gt; results = queryBuilder.query();
</pre></td></tr></table>

<p>The <code>ColumnArg</code> can also take a table-name which is useful with <code>JOIN</code> queries to compare a column from one table
with one in another table.  See section <a href="#Join-Queries">Building Join Queries</a>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">QueryBuilder&lt;Order, Integer&gt; orderQb = orderDao.queryBuilder();
orderQb.where().ge(&quot;amount&quot;, 100.0F);
QueryBuilder&lt;Account, Integer&gt; accountQb = accountDao.queryBuilder();
// find all accounts who have an order larger than their limit
accountQb.where().gt(Account.MAX_LIMIT_AMOUNT_FIELD,
     new ColumnArg(&quot;orders&quot;, Order.AMOUNT_FIELD));
// join with the order query
List&lt;Account&gt; results = accountQb.join(orderQb).query();
</pre></td></tr></table>

<hr size="6">
<a name="Join-Queries"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Column-Arguments" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="ormlite_4.html#Use-With-Android" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Statement-Builder" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ormlite_4.html#Use-With-Android" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ormlite.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_10.html#Index-of-Concepts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Building-Join-Queries"></a>
<h2 class="section">3.8 Building Join Queries</h2>

<a name="index-join-queries_002c-building"></a>
<a name="index-join-query_002c-example"></a>
<a name="index-inner-join-queries_002c-building"></a>
<p>ORMLite supports basic <code>JOIN</code> SQL queries.  For more information about
how <code>JOIN</code> queries work see <a href="http://www.w3schools.com/Sql/sql_join.asp">JOIN documentation</a>.
</p>
<p>You setup a join query by building 2 <code>QueryBuilder</code> objects &ndash; one in the DAO from which you are returning objects,
and another DAO which is related to the first.  One of the objects must be a foreign field of the other object (either
direction is supported) or the join methods will throw an exception. 
</p>
<p>For example, let&rsquo;s say you want to return a set of <code>Account</code> objects what have an <code>Order</code> that is larger than
$100.  We would set it up something like the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">QueryBuilder&lt;Order, Integer&gt; orderQb = orderDao.queryBuilder();
orderQb.where().ge(&quot;amount&quot;, 100.0F);
QueryBuilder&lt;Account, Integer&gt; accountQb = accountDao.queryBuilder();
// join with the order query
List&lt;Account&gt; results = accountQb.join(orderQb).query();
</pre></td></tr></table>

<p>This will return all of the <code>Account</code> records that have a corresponding <code>Order</code> that has a <code>value</code> field
that is more than <code>100.0</code>.  Notice that none of the <code>Order</code> information is returned by the query &ndash; just
<code>Account</code> information is retrieved.  You could also reverse the situation and, for example, return all of the orders
that have an account whose first-name is equal to <code>&quot;Bob&quot;</code>.  To compare fields from different tables, you can use the
<code>ColumnArg</code> class. See section <a href="#Column-Arguments">Using Column Arguments</a>. 
</p>
<p>ORMlite also supports the concept of <code>&quot;LEFT JOIN&quot;</code> which means, in the context of the above example, that accounts that
have <em>no</em> orders will also be returned.  Typically with a &quot;normal&quot; join, only accounts that have orders are candidates to
be returned by the query.  ORMLite does <em>not</em> support <code>&quot;RIGHT JOIN&quot;</code> or <code>&quot;FULL JOIN&quot;</code> since none of the &quot;right&quot;
object&rsquo;s information is being returned by the query. 
</p>
<p><em>Please note</em> that other ORM libraries use <code>JOIN</code> statements to retrieve results from multiple tables to fill in
foreign fields and foreign collections.  ORMLite does not support this feature.  You can only get results from one table using
it.
</p>
<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Statement-Builder" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="ormlite_4.html#Use-With-Android" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ormlite.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_10.html#Index-of-Concepts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ormlite_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>Gray Watson</em> on <em>February 19, 2018</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
 </font>
 <br>

</p>
</body>
</html>
